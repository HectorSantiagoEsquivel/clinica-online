<div class="contenedor" [appSpinner]="cargando">
  <h2 class="titulo">Cargar Historia Clínica</h2>

  <form [formGroup]="historiaClinicaForm" (ngSubmit)="finalizarTurno()" class="formulario">

    <div class="campo">
      <label>Altura (cm):</label>
      <input type="number" formControlName="altura" />
    </div>

    <div class="campo">
      <label>Peso (kg):</label>
      <input type="number" formControlName="peso" />
    </div>

    <div class="campo">
      <label>Temperatura (°C):</label>
      <input type="number" formControlName="temperatura" />
    </div>

    <div class="campo">
      <label>Presión arterial:</label>
      <input type="text" formControlName="presion" placeholder="Ej: 120/80" />
    </div>

    <h3 class="subtitulo">Datos adicionales</h3>

    <div class="campos-dinamicos">
      <div class="campo-par">
        <input type="text" formControlName="campoDinamicoClave1" placeholder="Clave 1 (Ej: Alergias)" />
        <input type="text" formControlName="campoDinamicoValor1" placeholder="Valor 1 (Ej: Penicilina)" />
      </div>

      <div class="campo-par">
        <input type="text" formControlName="campoDinamicoClave2" placeholder="Clave 2" />
        <input type="text" formControlName="campoDinamicoValor2" placeholder="Valor 2" />
      </div>

      <div class="campo-par">
        <input type="text" formControlName="campoDinamicoClave3" placeholder="Clave 3" />
        <input type="text" formControlName="campoDinamicoValor3" placeholder="Valor 3" />
      </div>
    </div>

    <h3 class="subtitulo">Controles especiales</h3>

    <div class="campo">
      <label>Índice de salud (0–100): {{ historiaClinicaForm.value.adicionalSlider }}</label>
      <input type="range" formControlName="adicionalSlider" min="0" max="100" />
    </div>

    <div class="campo">
      <label>Nivel de glucosa:</label>
      <input type="number" formControlName="adicionalNumerico" />
    </div>

    <div class="campo switch-campo">
      <label>¿Fumador?</label>
      <label class="switch">
        <input type="checkbox" formControlName="adicionalSwitch" />
        <span class="slider"></span>
      </label>
    </div>

    <div class="campo">
      <label>Reseña del turno:</label>
      <textarea
        formControlName="resena"
        rows="4"
        placeholder="Observaciones generales, diagnóstico, etc.">
      </textarea>
    </div>

    <button type="submit" [disabled]="historiaClinicaForm.invalid" class="btn-finalizar">
      Finalizar turno y guardar historia clínica
    </button>
  </form>
</div>
